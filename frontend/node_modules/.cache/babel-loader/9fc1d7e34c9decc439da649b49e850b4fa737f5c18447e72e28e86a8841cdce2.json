{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"h1\", null, \"Dashboard\", -1 /* HOISTED */);\nconst _hoisted_3 = /*#__PURE__*/_createElementVNode(\"p\", null, \"Seleccioná y arrastrá los elementos a la zona de soltar.\", -1 /* HOISTED */);\nconst _hoisted_4 = {\n  class: \"drag-section\"\n};\nconst _hoisted_5 = {\n  class: \"drag-inside\"\n};\nconst _hoisted_6 = [\"onDragstart\", \"draggable\"];\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"h2\", null, \"Soltar acá\", -1 /* HOISTED */);\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"loading\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createStaticVNode(\"<svg class=\\\"pl\\\" width=\\\"240\\\" height=\\\"240\\\" viewBox=\\\"0 0 240 240\\\"><circle class=\\\"pl__ring pl__ring--a\\\" cx=\\\"120\\\" cy=\\\"120\\\" r=\\\"105\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"20\\\" stroke-dasharray=\\\"0 660\\\" stroke-dashoffset=\\\"-330\\\" stroke-linecap=\\\"round\\\"></circle><circle class=\\\"pl__ring pl__ring--b\\\" cx=\\\"120\\\" cy=\\\"120\\\" r=\\\"35\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"20\\\" stroke-dasharray=\\\"0 220\\\" stroke-dashoffset=\\\"-110\\\" stroke-linecap=\\\"round\\\"></circle><circle class=\\\"pl__ring pl__ring--c\\\" cx=\\\"85\\\" cy=\\\"120\\\" r=\\\"70\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"20\\\" stroke-dasharray=\\\"0 440\\\" stroke-linecap=\\\"round\\\"></circle><circle class=\\\"pl__ring pl__ring--d\\\" cx=\\\"155\\\" cy=\\\"120\\\" r=\\\"70\\\" fill=\\\"none\\\" stroke=\\\"#000\\\" stroke-width=\\\"20\\\" stroke-dasharray=\\\"0 440\\\" stroke-linecap=\\\"round\\\"></circle></svg>\", 1);\nconst _hoisted_11 = [_hoisted_10];\nconst _hoisted_12 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.groupedItems, (items, courier) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"drag-container\",\n      key: courier\n    }, [_createElementVNode(\"h3\", null, _toDisplayString(courier), 1 /* TEXT */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items, (item, index) => {\n      return _openBlock(), _createElementBlock(\"div\", {\n        key: index,\n        class: _normalizeClass({\n          'drag-el': true,\n          disabled: $setup.itemIsDropped(item)\n        }),\n        onDragstart: $event => $setup.startDrag($event, item),\n        draggable: !$setup.itemIsDropped(item)\n      }, _toDisplayString(item.name), 43 /* TEXT, CLASS, PROPS, NEED_HYDRATION */, _hoisted_6);\n    }), 128 /* KEYED_FRAGMENT */))]);\n  }), 128 /* KEYED_FRAGMENT */))]), _createElementVNode(\"div\", {\n    class: \"drop-area\",\n    onDragover: _cache[0] || (_cache[0] = _withModifiers(() => {}, [\"prevent\"])),\n    onDrop: $setup.onDrop\n  }, [_hoisted_7, $setup.droppedItems.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    class: \"btn-danger\",\n    onClick: $setup.removeItems\n  }, \" Eliminar Seleccionados (\" + _toDisplayString($setup.selectedCount) + \") \", 1 /* TEXT */), _createVNode($setup[\"AgGridVue\"], {\n    class: \"ag-theme-alpine\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"400px\"\n    },\n    columnDefs: $setup.columnDefs,\n    rowData: $setup.droppedItems,\n    defaultColDef: $setup.defaultColDef,\n    rowSelection: $setup.rowSelection,\n    onGridReady: $setup.onGridReady,\n    onSelectionChanged: $setup.onSelectionChanged\n  }, null, 8 /* PROPS */, [\"rowData\", \"rowSelection\"])])) : $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [..._hoisted_11])) : (_openBlock(), _createElementBlock(\"p\", _hoisted_12, \"No items dropped\"))], 32 /* NEED_HYDRATION */)])]), _createElementVNode(\"button\", {\n    onClick: $setup.navigateToHome\n  }, \"Go to Home\")], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","key","_createStaticVNode","_hoisted_10","_createElementBlock","_Fragment","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_renderList","$setup","groupedItems","items","courier","_toDisplayString","item","index","_normalizeClass","disabled","itemIsDropped","onDragstart","$event","startDrag","draggable","name","_hoisted_6","onDragover","_cache","_withModifiers","onDrop","_hoisted_7","droppedItems","length","_hoisted_8","onClick","removeItems","selectedCount","_createVNode","style","columnDefs","rowData","defaultColDef","rowSelection","onGridReady","onSelectionChanged","loading","_hoisted_9","_hoisted_11","_hoisted_12","navigateToHome"],"sources":["/home/vicente/Cosas/Programacion/prueba-dawipo/frontend/src/Dashboard/Pages/DashPrueba.vue"],"sourcesContent":["<script setup>\nimport { ref, computed } from \"vue\";\nimport { AgGridVue } from \"ag-grid-vue3\";\nimport axios from \"axios\";\nimport { useRouter } from \"vue-router\";\n\nconst droppedItems = ref([]); // Array to store dropped items\nconst loading = ref(false);\nconst selectedItems = ref([]);\nconst router = useRouter();\n\nconst dataModel = ref([\n  { name: \"Neumaticos\", courier: \"DHL\" },\n  { name: \"Remeras\", courier: \"DHL\" },\n]);\nconst columnDefs = [\n  {\n    field: \"Seleccionar\",\n    maxWidth: 140,\n    checkboxSelection: true,\n    headerCheckboxSelection: true,\n  },\n  {\n    headerName: \"Transportista\",\n    field: \"courier\",\n    sortable: true,\n    filter: true,\n  },\n  { headerName: \"Nombre\", field: \"name\", sortable: true, filter: true },\n  {\n    headerName: \"País de origen\",\n    field: \"originCountry\",\n    sortable: true,\n    filter: true,\n  },\n  {\n    headerName: \"País de destino\",\n    field: \"finalCountry\",\n    sortable: true,\n    filter: true,\n  },\n  {\n    headerName: \"Fecha de salida\",\n    field: \"departureDate\",\n    sortable: true,\n    filter: true,\n  },\n  {\n    headerName: \"Fecha de llegada\",\n    field: \"arrivalDate\",\n    sortable: true,\n    filter: true,\n  },\n  { headerName: \"Estado\", field: \"status\", sortable: true, filter: true },\n  { headerName: \"Proveedor\", field: \"provider\", sortable: true, filter: true },\n];\nconst defaultColDef = {\n  flex: 1,\n  minWidth: 100,\n  resizable: true,\n};\n\nconst groupedItems = computed(() => {\n  return dataModel.value.reduce((groups, item) => {\n    const group = groups[item.courier] || [];\n    group.push(item);\n    groups[item.courier] = group;\n    return groups;\n  }, {});\n});\n\nconst selectedCount = computed(() => {\n  return selectedItems.value.length;\n});\n\nconst startDrag = (event, item) => {\n  event.dataTransfer.setData(\"text/plain\", JSON.stringify(item));\n};\n\nconst onDrop = (event) => {\n  event.preventDefault();\n  const item = JSON.parse(event.dataTransfer.getData(\"text/plain\"));\n  handleDrop(item);\n};\n\nconst handleDrop = async (item) => {\n  loading.value = true;\n  try {\n    const response = await axios.get(\n      `http://localhost:3001/products/${item.name}`,\n    );\n    droppedItems.value.push({ ...item, ...response.data });\n    droppedItems.value = droppedItems.value.slice();\n  } catch (error) {\n    console.error(\"Error al realizar la solicitud HTTP:\", error);\n  } finally {\n    loading.value = false;\n  }\n};\n\nconst itemIsDropped = (item) => {\n  return droppedItems.value.some(\n    (droppedItem) =>\n      droppedItem.name === item.name && droppedItem.courier === item.courier,\n  );\n};\n\nconst removeItems = () => {\n  droppedItems.value = droppedItems.value.filter(\n    (item) => !selectedItems.value.includes(item),\n  );\n  selectedItems.value = [];\n};\n\nconst onSelectionChanged = (event) => {\n  selectedItems.value = event.api.getSelectedRows();\n};\n\nconst rowSelection = ref(\"multiple\");\nconst gridApi = ref(null);\n\nconst onGridReady = (params) => {\n  gridApi.value = params.api;\n};\n\nconst navigateToHome = () => {\n  router.push(\"/\");\n};\n</script>\n\n<template>\n  <div class=\"container\">\n    <h1>Dashboard</h1>\n    <p>Seleccioná y arrastrá los elementos a la zona de soltar.</p>\n    <div class=\"drag-section\">\n      <div class=\"drag-inside\">\n        <div\n          class=\"drag-container\"\n          v-for=\"(items, courier) in groupedItems\"\n          :key=\"courier\"\n        >\n          <h3>{{ courier }}</h3>\n          <div\n            v-for=\"(item, index) in items\"\n            :key=\"index\"\n            :class=\"{ 'drag-el': true, disabled: itemIsDropped(item) }\"\n            @dragstart=\"startDrag($event, item)\"\n            :draggable=\"!itemIsDropped(item)\"\n          >\n            {{ item.name }}\n          </div>\n        </div>\n      </div>\n      <div class=\"drop-area\" @dragover.prevent @drop=\"onDrop\">\n        <h2>Soltar acá</h2>\n        <div v-if=\"droppedItems.length\">\n          <button class=\"btn-danger\" @click=\"removeItems\">\n            Eliminar Seleccionados ({{ selectedCount }})\n          </button>\n          <ag-grid-vue\n            class=\"ag-theme-alpine\"\n            style=\"width: 100%; height: 400px\"\n            :columnDefs=\"columnDefs\"\n            :rowData=\"droppedItems\"\n            :defaultColDef=\"defaultColDef\"\n            :rowSelection=\"rowSelection\"\n            @grid-ready=\"onGridReady\"\n            @selection-changed=\"onSelectionChanged\"\n          ></ag-grid-vue>\n        </div>\n        <div v-else-if=\"loading\" class=\"loading\">\n          <svg class=\"pl\" width=\"240\" height=\"240\" viewBox=\"0 0 240 240\">\n            <circle\n              class=\"pl__ring pl__ring--a\"\n              cx=\"120\"\n              cy=\"120\"\n              r=\"105\"\n              fill=\"none\"\n              stroke=\"#000\"\n              stroke-width=\"20\"\n              stroke-dasharray=\"0 660\"\n              stroke-dashoffset=\"-330\"\n              stroke-linecap=\"round\"\n            ></circle>\n            <circle\n              class=\"pl__ring pl__ring--b\"\n              cx=\"120\"\n              cy=\"120\"\n              r=\"35\"\n              fill=\"none\"\n              stroke=\"#000\"\n              stroke-width=\"20\"\n              stroke-dasharray=\"0 220\"\n              stroke-dashoffset=\"-110\"\n              stroke-linecap=\"round\"\n            ></circle>\n            <circle\n              class=\"pl__ring pl__ring--c\"\n              cx=\"85\"\n              cy=\"120\"\n              r=\"70\"\n              fill=\"none\"\n              stroke=\"#000\"\n              stroke-width=\"20\"\n              stroke-dasharray=\"0 440\"\n              stroke-linecap=\"round\"\n            ></circle>\n            <circle\n              class=\"pl__ring pl__ring--d\"\n              cx=\"155\"\n              cy=\"120\"\n              r=\"70\"\n              fill=\"none\"\n              stroke=\"#000\"\n              stroke-width=\"20\"\n              stroke-dasharray=\"0 440\"\n              stroke-linecap=\"round\"\n            ></circle>\n          </svg>\n        </div>\n        <p v-else>No items dropped</p>\n      </div>\n    </div>\n  </div>\n  <button @click=\"navigateToHome\">Go to Home</button>\n</template>\n\n<style>\n.container {\n  padding: 20px;\n}\n.drag-section {\n  display: flex;\n}\n.drag-inside {\n  display: flex;\n  flex-wrap: wrap;\n}\n.drag-container {\n  margin-right: 20px;\n}\n.drag-el {\n  padding: 10px;\n  margin-bottom: 10px;\n  border: 1px solid #ccc;\n  background-color: #f9f9f9;\n  cursor: move;\n}\n.drag-el.disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.drop-area {\n  flex-grow: 1;\n  padding: 20px;\n  border: 2px dashed #ccc;\n  background-color: #fafafa;\n}\n.btn-danger {\n  background-color: red;\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  margin-top: 10px;\n  cursor: pointer;\n}\n.btn-danger:hover {\n  background-color: darkred;\n}\n</style>\n"],"mappings":";;EAmIOA,KAAK,EAAC;AAAW;gCACpBC,mBAAA,CAAkB,YAAd,WAAS;gCACbA,mBAAA,CAA+D,WAA5D,0DAAwD;;EACtDD,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAa;mBAvI9B;gCA0JQC,mBAAA,CAAmB,YAAf,YAAU;;EA1JtBC,GAAA;AAAA;;EAAAA,GAAA;EA0KiCF,KAAK,EAAC;;iCA1KvCG,kBAAA;qBA2KUC,WA+CM,C;;EA1NhBF,GAAA;AAAA;;uBAAAG,mBAAA,CAAAC,SAAA,SAmIEL,mBAAA,CA4FM,OA5FNM,UA4FM,GA3FJC,UAAkB,EAClBC,UAA+D,EAC/DR,mBAAA,CAwFM,OAxFNS,UAwFM,GAvFJT,mBAAA,CAiBM,OAjBNU,UAiBM,I,kBAhBJN,mBAAA,CAeMC,SAAA,QAvJdM,WAAA,CA0IqCC,MAAA,CAAAC,YAAY,EA1IjD,CA0IkBC,KAAK,EAAEC,OAAO;yBAFxBX,mBAAA,CAeM;MAdJL,KAAK,EAAC,gBAAgB;MAErBE,GAAG,EAAEc;QAENf,mBAAA,CAAsB,YAAAgB,gBAAA,CAAfD,OAAO,mB,kBACdX,mBAAA,CAQMC,SAAA,QAtJhBM,WAAA,CA+IoCG,KAAK,EA/IzC,CA+IoBG,IAAI,EAAEC,KAAK;2BADrBd,mBAAA,CAQM;QANHH,GAAG,EAAEiB,KAAK;QACVnB,KAAK,EAjJlBoB,eAAA;UAAA;UAAAC,QAAA,EAiJiDR,MAAA,CAAAS,aAAa,CAACJ,IAAI;QAAA;QACtDK,WAAS,EAAAC,MAAA,IAAEX,MAAA,CAAAY,SAAS,CAACD,MAAM,EAAEN,IAAI;QACjCQ,SAAS,GAAGb,MAAA,CAAAS,aAAa,CAACJ,IAAI;0BAE5BA,IAAI,CAACS,IAAI,gDArJxBC,UAAA;;oCAyJM3B,mBAAA,CAoEM;IApEDD,KAAK,EAAC,WAAW;IAAE6B,UAAQ,EAAAC,MAAA,QAAAA,MAAA,MAzJtCC,cAAA,CAyJ6B,QAAiB;IAAEC,MAAI,EAAEnB,MAAA,CAAAmB;MAC9CC,UAAmB,EACRpB,MAAA,CAAAqB,YAAY,CAACC,MAAM,I,cAA9B9B,mBAAA,CAcM,OAzKd+B,UAAA,GA4JUnC,mBAAA,CAES;IAFDD,KAAK,EAAC,YAAY;IAAEqC,OAAK,EAAExB,MAAA,CAAAyB;KAAa,2BACtB,GAAArB,gBAAA,CAAGJ,MAAA,CAAA0B,aAAa,IAAG,IAC7C,iBACAC,YAAA,CASe3B,MAAA;IARbb,KAAK,EAAC,iBAAiB;IACvByC,KAAkC,EAAlC;MAAA;MAAA;IAAA,CAAkC;IACjCC,UAAU,EAAE7B,MAAA,CAAA6B,UAAU;IACtBC,OAAO,EAAE9B,MAAA,CAAAqB,YAAY;IACrBU,aAAa,EAAE/B,MAAA,CAAA+B,aAAa;IAC5BC,YAAY,EAAEhC,MAAA,CAAAgC,YAAY;IAC1BC,WAAU,EAAEjC,MAAA,CAAAiC,WAAW;IACvBC,kBAAiB,EAAElC,MAAA,CAAAkC;4DAGRlC,MAAA,CAAAmC,OAAO,I,cAAvB3C,mBAAA,CAiDM,OAjDN4C,UAiDM,EA3Nd,IAAAC,WAAA,O,cA4NQ7C,mBAAA,CAA8B,KA5NtC8C,WAAA,EA4NkB,kBAAgB,G,gCAIhClD,mBAAA,CAAmD;IAA1CoC,OAAK,EAAExB,MAAA,CAAAuC;EAAc,GAAE,YAAU,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}